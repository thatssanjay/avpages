<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WeekWander | 1-Week Smart Travel Plan</title>

  <!-- Icons -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --blue-1:#0B5ED7;
      --blue-2:#16A1FF;
      --orange:#FF4B2B;
      --green:#9DBB24;
      --gray:#E9EEF5;

      --text:#0f172a;
      --muted:#475569;
      --card:#ffffff;
      --border:rgba(15,23,42,.10);
      --shadow: 0 18px 45px rgba(2,6,23,.12);
      --radius: 18px;

      --ok:#16a34a;
      --bad:#dc2626;
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    body{background:linear-gradient(180deg,#ffffff, var(--gray)); color:var(--text)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1140px;margin:0 auto;padding:0 16px}

    /* NAV */
    .navWrap{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(12px);
      background: rgba(255,255,255,.78);
      border-bottom: 1px solid var(--border);
    }
    .nav{display:flex; align-items:center; justify-content:space-between; padding:14px 0; gap:12px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:900; letter-spacing:.2px}
    .brand .logo{
      width:38px;height:38px;border-radius:12px;
      background: linear-gradient(135deg,var(--blue-1),var(--blue-2));
      display:grid;place-items:center; color:white;
      box-shadow: 0 10px 25px rgba(11,94,215,.25);
    }
    .brand small{display:block; font-weight:700; color:var(--muted); margin-top:2px}
    .navLinks{display:flex; gap:18px; align-items:center}
    .navLinks a{color:var(--muted); font-weight:800; font-size:14px; padding:8px 10px; border-radius:12px}
    .navLinks a:hover{background:rgba(2,6,23,.05); color:var(--text)}
    .cta{display:flex; gap:10px; align-items:center}
    .btn{
      border:1px solid var(--border); background:#fff; padding:10px 12px; border-radius:14px;
      font-weight:900; font-size:14px; cursor:pointer;
      box-shadow: 0 10px 25px rgba(2,6,23,.06);
    }
    .btnPrimary{background: linear-gradient(135deg,var(--blue-1),var(--blue-2)); border:none; color:white}
    .hamburger{
      display:none; width:42px;height:42px;border-radius:14px;
      border:1px solid var(--border); background:#fff; cursor:pointer;
    }

    /* HERO */
    .hero{
      margin:18px 0 8px;
      border-radius: 26px;
      overflow:hidden;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      background:#000;
      position:relative;
      min-height: 430px;
    }
    .hero img{width:100%;height:100%;object-fit:cover;opacity:.93;transform:scale(1.03)}
    .hero::after{
      content:""; position:absolute; inset:0;
      background: linear-gradient(90deg, rgba(2,6,23,.82) 0%, rgba(2,6,23,.46) 46%, rgba(2,6,23,.16) 100%);
    }
    .heroContent{position:absolute; inset:0; display:flex; align-items:flex-end}
    .heroCard{width:min(660px, 92%); margin: 0 0 26px 22px; color:#fff}
    .eyebrow{
      display:inline-flex; gap:8px; align-items:center;
      padding:7px 10px; border-radius:999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      font-weight:900; font-size:12px;
    }
    .heroCard h1{margin:12px 0 8px; font-size:clamp(28px,4vw,44px); line-height:1.08; letter-spacing:-.6px}
    .heroCard p{margin:0 0 14px; color:rgba(255,255,255,.84); font-size:15px; line-height:1.55}
    .heroActions{display:flex;gap:10px;flex-wrap:wrap}
    .ghost{background: rgba(255,255,255,.10); border: 1px solid rgba(255,255,255,.22); color:#fff}

    /* SECTIONS */
    section{padding:18px 0}
    .sectionTitle{display:flex; align-items:flex-end; justify-content:space-between; gap:10px; margin:16px 0 10px}
    .sectionTitle h2{margin:0; font-size:20px; letter-spacing:-.2px}
    .sectionTitle p{margin:0; color:var(--muted); font-size:13px}

    /* ACCORDION */
    details{
      border:1px solid var(--border);
      background:#fff;
      border-radius: 18px;
      box-shadow: 0 14px 30px rgba(2,6,23,.08);
      overflow:hidden;
    }
    summary{
      list-style:none;
      cursor:pointer;
      padding:14px 14px;
      font-weight:900;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background: linear-gradient(180deg, rgba(22,161,255,.08), rgba(2,6,23,.00));
    }
    summary::-webkit-details-marker{display:none}
    .accBody{padding:12px 14px 14px}
    .accHint{color:var(--muted);font-size:13px;margin-top:2px}
    .accRight{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:12px}

    /* GALLERY UI */
    .galleryTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
      margin: 8px 0 10px;
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding:7px 10px; border-radius:999px;
      border:1px solid var(--border);
      background: rgba(2,6,23,.03);
      font-weight:900; font-size:12px; color:var(--muted);
    }

    /* ✅ Mobile-friendly fixed tile size */
    .gallery{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:10px;
    }
    @media(min-width:640px){ .gallery{grid-template-columns: repeat(3, 1fr);} }
    @media(min-width:900px){ .gallery{grid-template-columns: repeat(5, 1fr);} }

    .gItem{
      border-radius: 16px;
      overflow:hidden;
      border:1px solid var(--border);
      background:#fff;
      cursor:pointer;
      position:relative;
    }

    /* ✅ Force consistent height + width using aspect-ratio */
    .gItem .frame{
      width:100%;
      aspect-ratio: 4 / 3;
      background: rgba(2,6,23,.04);
      display:block;
      overflow:hidden;
    }
    .gItem img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .gItem .cap{
      position:absolute; left:10px; bottom:10px;
      font-size:12px; font-weight:900;
      color:#fff;
      background: rgba(2,6,23,.58);
      border:1px solid rgba(255,255,255,.18);
      padding:6px 8px; border-radius: 999px;
      max-width: calc(100% - 20px);
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
    }

    /* MODAL (Lightbox) */
    .modal{
      position:fixed; inset:0;
      background: rgba(2,6,23,.72);
      display:none;
      align-items:center;
      justify-content:center;
      padding:16px;
      z-index:999;
    }
    .modal.open{display:flex}
    .modalBox{
      width: min(980px, 100%);
      background:#0b1220;
      border:1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 25px 70px rgba(0,0,0,.35);
      position:relative;
    }
    .modalTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:10px 12px;
      color:#fff;
      background: rgba(255,255,255,.06);
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .modalTop b{font-size:13px}
    .modalTop .x{
      width:40px;height:40px;border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      color:#fff; cursor:pointer;
      display:grid;place-items:center;
    }

    /* ✅ Better modal sizing (mobile + desktop) */
    .modalBody{position:relative; background:#000;}
    .modalBody img{
      width:100%;
      height: min(76vh, 760px);
      object-fit:contain;
      background:#000;
    }
    .navArrow{
      position:absolute; top:50%; transform: translateY(-50%);
      width:46px;height:46px;border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.10);
      color:#fff; cursor:pointer;
      display:grid;place-items:center;
      font-size:18px;
    }
    .navArrow.left{left:12px}
    .navArrow.right{right:12px}
    .modalFooter{
      padding:10px 12px;
      color: rgba(255,255,255,.78);
      font-size:12px;
      background: rgba(255,255,255,.04);
      border-top:1px solid rgba(255,255,255,.10);
    }

    footer{
      padding:26px 0 34px;
      color:var(--muted);
      font-size:12px;
      border-top: 1px solid var(--border);
      background: rgba(255,255,255,.60);
      margin-top: 14px;
    }
    .footRow{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}

    /* Mobile nav */
    @media(max-width:860px){
      .navLinks{display:none; position:absolute; left:16px; right:16px; top:66px;
        background:#fff; border:1px solid var(--border); border-radius:18px;
        padding:10px; box-shadow: var(--shadow);
        flex-direction:column; align-items:stretch;
      }
      .navLinks a{padding:12px 12px}
      .hamburger{display:inline-grid;place-items:center}
      .cta .btn{display:none}
      .heroCard{margin-left:16px}
      .navArrow{width:44px;height:44px}
    }
  </style>
</head>

<body>

  <!-- NAV -->
  <div class="navWrap">
    <div class="container">
      <div class="nav">
        <a class="brand" href="#top">
          <div class="logo"><i class="fa-solid fa-compass"></i></div>
          <div>
            WeekWander
            <small>1-Week Smart Travel Plan</small>
          </div>
        </a>

        <nav class="navLinks" id="navLinks">
          <a href="#galleries">Galleries</a>
        </nav>

        <div class="cta">
          <a class="btn btnPrimary" href="#galleries"><i class="fa-solid fa-images"></i>&nbsp;Galleries</a>
          <button class="hamburger" aria-label="Open menu" onclick="toggleNav()">
            <i class="fa-solid fa-bars"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- HERO -->
  <div class="container" id="top">
    <div class="hero">
      <img alt="Himalayas travel" src="https://picsum.photos/seed/himalaya-hero/1600/900">
      <div class="heroContent">
        <div class="heroCard">
          <span class="eyebrow"><i class="fa-solid fa-location-dot"></i> Dharamshala • Manali • March End</span>
          <h1>Galleries fixed (loads 100% reliably).</h1>
          <p>We replaced blocked image source with a reliable provider + fixed tile sizes for mobile.</p>
          <div class="heroActions">
            <a class="btn btnPrimary" href="#galleries"><i class="fa-solid fa-images"></i>&nbsp;Open Galleries</a>
            <a class="btn ghost" href="#galleries"><i class="fa-solid fa-arrow-down"></i>&nbsp;Scroll</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- GALLERIES -->
  <section id="galleries">
    <div class="container">
      <div class="sectionTitle">
        <div>
          <h2>Image Galleries (50+ each) — Fixed</h2>
          <p>Click any photo → popup viewer + next/prev arrows + keyboard support.</p>
        </div>
        <span class="badge"><i class="fa-solid fa-images"></i> Lightbox</span>
      </div>

      <!-- Dharamshala accordion (open) -->
      <details open>
        <summary>
          <div>
            Dharamshala / McLeod Ganj — Image Gallery (50+)
            <div class="accHint">Reliable images (no hotlink blocking) • mobile-friendly tiles</div>
          </div>
          <div class="accRight">
            <span class="badge" style="background: rgba(157,187,36,.16); border-color: rgba(157,187,36,.22); color:#3f6212;">
              <i class="fa-solid fa-layer-group"></i> 60 images
            </span>
            <i class="fa-solid fa-chevron-down"></i>
          </div>
        </summary>
        <div class="accBody">
          <div class="galleryTop">
            <div class="pill"><i class="fa-solid fa-hand-pointer"></i> Tap photos to preview</div>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <button class="btn" onclick="reloadGallery('dharamshala')"><i class="fa-solid fa-rotate"></i> Reload</button>
              <button class="btn btnPrimary" onclick="loadMore('dharamshala', 20)"><i class="fa-solid fa-plus"></i> Load More</button>
            </div>
          </div>
          <div class="gallery" id="gal-dharamshala"></div>
          <div class="tiny" id="gal-dharamshala-status" style="margin-top:10px;color:var(--muted)"></div>
        </div>
      </details>

      <div style="height:12px"></div>

      <!-- Manali accordion (open) -->
      <details open>
        <summary>
          <div>
            Manali — Image Gallery (50+)
            <div class="accHint">Reliable images (no hotlink blocking) • smooth popup viewer</div>
          </div>
          <div class="accRight">
            <span class="badge orange"><i class="fa-solid fa-layer-group"></i> 60 images</span>
            <i class="fa-solid fa-chevron-down"></i>
          </div>
        </summary>
        <div class="accBody">
          <div class="galleryTop">
            <div class="pill"><i class="fa-solid fa-hand-pointer"></i> Tap photos to preview</div>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <button class="btn" onclick="reloadGallery('manali')"><i class="fa-solid fa-rotate"></i> Reload</button>
              <button class="btn btnPrimary" onclick="loadMore('manali', 20)"><i class="fa-solid fa-plus"></i> Load More</button>
            </div>
          </div>
          <div class="gallery" id="gal-manali"></div>
          <div class="tiny" id="gal-manali-status" style="margin-top:10px;color:var(--muted)"></div>
        </div>
      </details>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footRow">
        <div><b>WeekWander</b> — 1-Week Smart Travel Plan</div>
        <div><b>All rights reserved © sanjayvishwakarma@2026</b></div>
      </div>
    </div>
  </footer>

  <!-- IMAGE MODAL -->
  <div class="modal" id="imgModal" role="dialog" aria-modal="true" aria-label="Image Viewer">
    <div class="modalBox">
      <div class="modalTop">
        <b id="imgTitle">Photo</b>
        <button class="x" onclick="closeImageModal()" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
      </div>
      <div class="modalBody">
        <button class="navArrow left" onclick="prevImage()" aria-label="Previous"><i class="fa-solid fa-chevron-left"></i></button>
        <img id="imgView" alt="Preview" src="" />
        <button class="navArrow right" onclick="nextImage()" aria-label="Next"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
      <div class="modalFooter" id="imgFooter">Use ← → keys to navigate. ESC to close.</div>
    </div>
  </div>

  <script>
    /* Mobile nav */
    function toggleNav(){
      const nav = document.getElementById('navLinks');
      const isOpen = nav.style.display === 'flex';
      nav.style.display = isOpen ? 'none' : 'flex';
    }

    /* ✅ Gallery source FIX:
       Use Picsum (reliable, no blocking). */
    const galleryState = {
      dharamshala: { baseSeed: 1200, items: [], count: 60, label: "Dharamshala Photo" },
      manali:      { baseSeed: 2400, items: [], count: 60, label: "Manali Photo" }
    };

    function picsumUrl(seed, w, h){
      return `https://picsum.photos/seed/${seed}/${w}/${h}`;
    }

    function generateImages(kind, howMany){
      const st = galleryState[kind];
      const start = st.items.length;
      for(let i=0;i<howMany;i++){
        const idx = start + i + 1;
        const seed = `${kind}-${st.baseSeed + idx}`;
        st.items.push({
          title: `${st.label} ${idx}`,
          thumb: picsumUrl(seed, 800, 600),
          full:  picsumUrl(seed, 2000, 1400)
        });
      }
    }

    function renderGallery(kind){
      const grid = document.getElementById(`gal-${kind}`);
      const st = galleryState[kind];
      grid.innerHTML = "";

      st.items.forEach((it, idx) => {
        const card = document.createElement("div");
        card.className = "gItem";
        card.innerHTML = `
          <span class="frame">
            <img loading="lazy" alt="${escapeHtml(it.title)}" src="${it.thumb}">
          </span>
          <div class="cap">${escapeHtml(it.title)}</div>
        `;
        card.addEventListener("click", () => openImageModal(kind, idx));
        grid.appendChild(card);
      });

      document.getElementById(`gal-${kind}-status`).textContent =
        `Loaded ${st.items.length}+ images.`;
    }

    function reloadGallery(kind){
      const st = galleryState[kind];
      st.items = [];
      st.baseSeed = st.baseSeed + Math.floor(Math.random() * 9999);
      generateImages(kind, st.count);
      renderGallery(kind);
    }

    function loadMore(kind, howMany){
      generateImages(kind, howMany);
      renderGallery(kind);
    }

    /* Lightbox */
    let currentKind = null;
    let currentIndex = 0;

    function openImageModal(kind, idx){
      currentKind = kind;
      currentIndex = idx;
      document.getElementById("imgModal").classList.add("open");
      paintImage();
    }

    function closeImageModal(){
      document.getElementById("imgModal").classList.remove("open");
      currentKind = null;
      currentIndex = 0;
    }

    function paintImage(){
      const st = galleryState[currentKind];
      if(!st || !st.items[currentIndex]) return;
      const it = st.items[currentIndex];
      document.getElementById("imgTitle").textContent = it.title;
      document.getElementById("imgView").src = it.full;
      document.getElementById("imgFooter").textContent =
        `${it.title} • ${currentIndex+1} / ${st.items.length} • Use ← → keys • ESC to close`;
    }

    function nextImage(){
      const st = galleryState[currentKind];
      if(!st) return;
      currentIndex = (currentIndex + 1) % st.items.length;
      paintImage();
    }

    function prevImage(){
      const st = galleryState[currentKind];
      if(!st) return;
      currentIndex = (currentIndex - 1 + st.items.length) % st.items.length;
      paintImage();
    }

    /* Close modal on outside click */
    document.getElementById("imgModal").addEventListener("click", (e)=>{
      if(e.target.id === "imgModal") closeImageModal();
    });

    /* Keyboard */
    document.addEventListener("keydown", (e)=>{
      const imgOpen = document.getElementById("imgModal").classList.contains("open");
      if(!imgOpen) return;

      if(e.key === "Escape") closeImageModal();
      if(e.key === "ArrowRight") nextImage();
      if(e.key === "ArrowLeft") prevImage();
    });

    function escapeHtml(str){
      return (str || "").replace(/[&<>"']/g, m =>
        ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])
      );
    }

    /* init */
    (function init(){
      reloadGallery("dharamshala");
      reloadGallery("manali");
    })();
  </script>
</body>
</html>
